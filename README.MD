# ğŸ“ˆ Portfolio Tracker

Kompleksowa aplikacja do zarzÄ…dzania portfelem inwestycyjnym napisana w Streamlit. UmoÅ¼liwia Å›ledzenie akcji, opcji, dywidend, przepÅ‚ywÃ³w pieniÄ™Å¼nych oraz rozliczeÅ„ podatkowych zgodnie z polskimi przepisami.

## ğŸš€ FunkcjonalnoÅ›ci

### ğŸ“Š Dashboard
- PrzeglÄ…d portfela w czasie rzeczywistym
- Automatyczna aktualizacja cen z Yahoo Finance
- Kursy walut z API NBP
- Wykresy wydajnoÅ›ci i alokacji

### ğŸ“ˆ ZarzÄ…dzanie Akcjami
- Dodawanie transakcji kupna/sprzedaÅ¼y
- Automatyczne obliczanie Å›rednich cen (FIFO)
- Åšledzenie zyskÃ³w/strat niezrealizowanych
- Analiza wydajnoÅ›ci poszczegÃ³lnych pozycji
- Wykresy historyczne cen

### ğŸ“‹ Opcje
- ZarzÄ…dzanie kontraktami opcyjnymi (Call/Put)
- Åšledzenie premium otrzymanych
- Analiza ryzyka przydziaÅ‚u
- Covered calls i naked options
- Alerty dla wygasajÄ…cych opcji

### ğŸ’° Dywidendy
- Rejestracja wypÅ‚at dywidend
- Analiza rentownoÅ›ci dywidendowej
- Kalendarz dywidend
- Analiza potencjaÅ‚u reinwestycji
- Obliczenia podatkowe z automatycznym kursem NBP

### ğŸ’¸ PrzepÅ‚ywy PieniÄ™Å¼ne
- Åšledzenie wpÅ‚at i wypÅ‚at
- Analiza ROI (zwrotu z inwestycji)
- Kategoryzacja przepÅ‚ywÃ³w
- Wykresy trendÃ³w miesiÄ™cznych
- Przeliczenia na PLN

### ğŸ§¾ Podatki
- Automatyczne obliczenia zgodne z polskim prawem
- Zyski kapitaÅ‚owe (19% podatek)
- Dywidendy z zaliczeniem podatku u ÅºrÃ³dÅ‚a
- Premium z opcji
- Kursy NBP z dat transakcji
- Generowanie zestawieÅ„ rocznych

## ğŸ› ï¸ Technologie

- **Frontend**: Streamlit
- **Backend**: Python 3.8+
- **Baza danych**: SQLite
- **API zewnÄ™trzne**: 
  - Yahoo Finance (yfinance) - ceny akcji
  - NBP API - kursy walut
- **Wizualizacje**: Plotly
- **Analiza danych**: Pandas, NumPy

## ğŸ“¦ Instalacja

1. **Klonuj repozytorium:**
```bash
git clone <repository-url>
cd portfolio-tracker
```

2. **UtwÃ³rz Å›rodowisko wirtualne:**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# lub
venv\Scripts\activate  # Windows
```

3. **Zainstaluj zaleÅ¼noÅ›ci:**
```bash
pip install -r requirements.txt
```

4. **Uruchom aplikacjÄ™:**
```bash
streamlit run app.py
```

5. **OtwÃ³rz w przeglÄ…darce:**
```
http://localhost:8501
```

## ğŸ“ Struktura projektu

```
portfolio-tracker/
â”œâ”€â”€ app.py                 # GÅ‚Ã³wny plik aplikacji
â”œâ”€â”€ db.py                  # Konfiguracja bazy danych
â”œâ”€â”€ requirements.txt       # ZaleÅ¼noÅ›ci Python
â”œâ”€â”€ pages/                 # Strony aplikacji
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ dashboard.py       # Dashboard gÅ‚Ã³wny
â”‚   â”œâ”€â”€ stocks.py          # ZarzÄ…dzanie akcjami
â”‚   â”œâ”€â”€ options.py         # ZarzÄ…dzanie opcjami
â”‚   â”œâ”€â”€ dividends.py       # ZarzÄ…dzanie dywidendami
â”‚   â”œâ”€â”€ cashflows.py       # PrzepÅ‚ywy pieniÄ™Å¼ne
â”‚   â””â”€â”€ taxes.py           # Rozliczenia podatkowe
â”œâ”€â”€ repos/                 # Repozytoria danych
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ stock_repo.py      # Operacje na akcjach
â”‚   â”œâ”€â”€ options_repo.py    # Operacje na opcjach
â”‚   â”œâ”€â”€ dividends_repo.py  # Operacje na dywidendach
â”‚   â””â”€â”€ cashflow_repo.py   # Operacje na przepÅ‚ywach
â”œâ”€â”€ services/              # Serwisy zewnÄ™trzne
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ pricing.py         # Pobieranie cen (Yahoo Finance)
â”‚   â””â”€â”€ nbp.py            # Kursy NBP
â””â”€â”€ utils/                 # NarzÄ™dzia pomocnicze
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ formatting.py      # Formatowanie danych
    â””â”€â”€ tax.py            # Obliczenia podatkowe
```

## ğŸ¯ Podstawowe uÅ¼ycie

### 1. Dodawanie pierwszej akcji
1. PrzejdÅº do zakÅ‚adki "ğŸ“Š Akcje"
2. Kliknij "â• Dodaj transakcjÄ™"
3. WprowadÅº symbol akcji (np. AAPL)
4. Wybierz "BUY", wprowadÅº iloÅ›Ä‡ i cenÄ™
5. Zapisz transakcjÄ™

### 2. Aktualizacja cen
1. Na Dashboard kliknij "ğŸ”„ Aktualizuj ceny"
2. System pobierze aktualne ceny z Yahoo Finance
3. Zobaczysz zaktualizowane wartoÅ›ci portfela

### 3. Dodawanie dywidendy
1. PrzejdÅº do "ğŸ’° Dywidendy"
2. Kliknij "â• Dodaj dywidendÄ™" 
3. Wybierz akcjÄ™ i wprowadÅº kwotÄ™ dywidendy
4. System automatycznie pobierze kurs NBP

### 4. ZarzÄ…dzanie opcjami
1. PrzejdÅº do "ğŸ“‹ Opcje"
2. Dodaj nowÄ… opcjÄ™ z strike price i datÄ… wygaÅ›niÄ™cia
3. ÅšledÅº wygasajÄ…ce opcje w zakÅ‚adce "âš ï¸ WygasajÄ…ce"

### 5. Rozliczenia podatkowe
1. PrzejdÅº do "ğŸ§¾ Podatki"
2. Wybierz rok podatkowy
3. Zobacz automatyczne obliczenia podatku
4. Wygeneruj zestawienie roczne

## âš™ï¸ Konfiguracja

### Baza danych
Aplikacja automatycznie tworzy bazÄ™ SQLite (`portfolio.db`) przy pierwszym uruchomieniu.

### API zewnÄ™trzne
- **Yahoo Finance**: Nie wymaga konfiguracji
- **NBP API**: Publiczne API, bez koniecznoÅ›ci rejestracji

## ğŸ”’ BezpieczeÅ„stwo i prywatnoÅ›Ä‡

- Wszystkie dane przechowywane lokalnie (SQLite)
- Brak poÅ‚Ä…czeÅ„ z brokerami (tylko pobieranie cen)
- Nie sÄ… przechowywane dane uwierzytelniajÄ…ce
- MoÅ¼liwoÅ›Ä‡ backupu przez kopiowanie pliku `portfolio.db`

## ğŸ“Š PrzykÅ‚adowe funkcje

### Automatyczne obliczenia:
- âœ… Åšrednie ceny zakupu (FIFO)
- âœ… Zyski/straty niezrealizowane  
- âœ… RentownoÅ›Ä‡ dywidendowa
- âœ… Podatki z kursami NBP
- âœ… ROI caÅ‚kowity portfela

### Alerty i powiadomienia:
- âš ï¸ Opcje wygasajÄ…ce w ciÄ…gu 30 dni
- ğŸš¨ Opcje z wysokim ryzykiem przydziaÅ‚u
- ğŸ’° Szacunkowe pÅ‚atnoÅ›ci podatkowe

## ğŸ¤ Wsparcie

Aplikacja zostaÅ‚a stworzona dla polskich inwestorÃ³w i uwzglÄ™dnia:
- Polskie przepisy podatkowe (19% podatek)
- Kursy NBP z dat transakcji
- Formularz PIT-38 (zyski kapitaÅ‚owe)
- Zaliczenie podatku u ÅºrÃ³dÅ‚a z USA

## âš ï¸ ZastrzeÅ¼enia

- **Nie jest to poradnictwo finansowe ani podatkowe**
- Obliczenia majÄ… charakter szacunkowy
- Zawsze skonsultuj siÄ™ z doradcÄ… podatkowym
- Weryfikuj wyniki przed zÅ‚oÅ¼eniem zeznania podatkowego

## ğŸ“ˆ RozwÃ³j

Planowane funkcje:
- [ ] Import danych z brokerÃ³w (CSV)
- [ ] Eksport raportÃ³w do PDF
- [ ] Integracja z wiÄ™cej API (Alpha Vantage, IEX)
- [ ] Powiadomienia email
- [ ] Analiza Monte Carlo
- [ ] Backtesting strategii

## ğŸ“„ Licencja

MIT License - szczegÃ³Å‚y w pliku LICENSE

## ğŸ‘¨â€ğŸ’» Autor

Aplikacja stworzona dla spoÅ‚ecznoÅ›ci polskich inwestorÃ³w DIY.

---

**ğŸ’¡ Tip**: Regularne aktualizowanie cen i wprowadzanie transakcji pozwoli na dokÅ‚adne Å›ledzenie wydajnoÅ›ci portfela!